{"remainingRequest":"E:\\Notes_Sharing Study System\\note-front\\node_modules\\babel-loader\\lib\\index.js!E:\\Notes_Sharing Study System\\note-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Notes_Sharing Study System\\note-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Notes_Sharing Study System\\note-front\\src\\views\\self\\childrens\\Notes.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Notes_Sharing Study System\\note-front\\src\\views\\self\\childrens\\Notes.vue","mtime":1672465994000},{"path":"E:\\Notes_Sharing Study System\\note-front\\babel.config.js","mtime":1663921093000},{"path":"E:\\Notes_Sharing Study System\\note-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Notes_Sharing Study System\\note-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Notes_Sharing Study System\\note-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Notes_Sharing Study System\\note-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE5vdGVJdGVtIGZyb20gIi4vTm90ZUl0ZW0udnVlIjsKaW1wb3J0IHsgZ2V0VXNlckFsbE5vdGVzQnlVc2VySWQgfSBmcm9tICJAL25ldHdvcmsvc2VsZi9pbmRleC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbm90ZXNMaXN0OiBbXSwKICAgICAgdG90YWw6IDAsCiAgICAgIHBhZ2VTaXplOiA2LAogICAgICAvLyDkuIDpobXmmL7npLo25LiqCiAgICAgIGN1cnJlbnRQYWdlOiAxIC8vIOW9k+WJjemhtQoKICAgIH07CiAgfSwKCiAgY29tcG9uZW50czogewogICAgTm90ZUl0ZW0KICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREYXRhKCk7CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOWPquacieS4gOmhteaXtuaYr+WQpumakOiXj+WIhumhtQogICAgaXNTaW5nbGVQYWdlKCkgewogICAgICByZXR1cm4gdGhpcy50b3RhbCA8PSB0aGlzLnBhZ2VTaXplOwogICAgfSwKCiAgICBpc0VtcHR5KCkgewogICAgICByZXR1cm4gdGhpcy50b3RhbCA9PSAwOwogICAgfQoKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGEoKSB7CiAgICAgIGdldFVzZXJBbGxOb3Rlc0J5VXNlcklkKHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucGFnZVNpemUsIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJpZCkudGhlbihfcmVmID0+IHsKICAgICAgICBsZXQgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSBfcmVmOwogICAgICAgIHRoaXMubm90ZXNMaXN0ID0gZGF0YS5yb3dzOwogICAgICAgIHRoaXMudG90YWwgPSBkYXRhLnRvdGFsOwogICAgICB9KTsKICAgIH0sCgogICAgdXBkYXRlQ3VycmVudFBhZ2UoY3VycmVudFBhZ2UpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlOwogICAgICB0aGlzLmdldERhdGEoKTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"AA4BA;AACA;AACA;EACAA;IACA;MACAC,aADA;MAEAC,QAFA;MAGAC,WAHA;MAGA;MACAC,cAJA,CAIA;;IAJA;EAMA,CARA;;EASAC;IAAAC;EAAA,CATA;;EAUAC;IACA;EACA,CAZA;;EAaAC;IACA;IACAC;MACA;IACA,CAJA;;IAKAC;MACA;IACA;;EAPA,CAbA;EAsBAC;IACAC;MACAC,wBACA,gBADA,EAEA,aAFA,EAGA,iCAHA,EAIAC,IAJA,CAIA;QAAA;UAAAd;QAAA;QACA;QACA;MACA,CAPA;IAQA,CAVA;;IAWAe;MACA;MACA;IACA;;EAdA;AAtBA","names":["data","notesList","total","pageSize","currentPage","components","NoteItem","created","computed","isSinglePage","isEmpty","methods","getData","getUserAllNotesByUserId","then","updateCurrentPage"],"sourceRoot":"src/views/self/childrens","sources":["Notes.vue"],"sourcesContent":["<template>\n  <div class=\"self-notes\">\n    <div class=\"title\">My Notes</div>\n    <div class=\"notes-select\" v-if=\"!isEmpty\">\n      <NoteItem\n        v-for=\"(item, index) in notesList\"\n        :itemData=\"item\"\n        :key=\"index\"\n      />\n\n      <div class=\"page\">\n        <el-pagination\n          background\n          layout=\"prev, pager, next\"\n          :hide-on-single-page=\"isSinglePage\"\n          :page-size=\"pageSize\"\n          :total=\"total\"\n          :current-page=\"currentPage\"\n          @current-change=\"updateCurrentPage\"\n        >\n        </el-pagination>\n      </div>\n    </div>\n    <el-empty style=\"flex: 1\" :image-size=\"300\" v-else></el-empty>\n  </div>\n</template>\n\n<script>\nimport NoteItem from \"./NoteItem.vue\";\nimport { getUserAllNotesByUserId } from \"@/network/self/index.js\";\nexport default {\n  data() {\n    return {\n      notesList: [],\n      total: 0,\n      pageSize: 6, // 一页显示6个\n      currentPage: 1, // 当前页\n    };\n  },\n  components: { NoteItem },\n  created() {\n    this.getData();\n  },\n  computed: {\n    // 只有一页时是否隐藏分页\n    isSinglePage() {\n      return this.total <= this.pageSize;\n    },\n    isEmpty() {\n      return this.total == 0;\n    },\n  },\n  methods: {\n    getData() {\n      getUserAllNotesByUserId(\n        this.currentPage,\n        this.pageSize,\n        this.$store.state.userInfo.userid\n      ).then(({ data }) => {\n        this.notesList = data.rows;\n        this.total = data.total;\n      });\n    },\n    updateCurrentPage(currentPage) {\n      this.currentPage = currentPage;\n      this.getData();\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.self-notes {\n  padding: 40px 60px 0px 30px;\n  display: flex;\n\n  .title {\n    font-size: 25px;\n    font-weight: 900;\n    padding-right: 80px;\n    padding-top: 30px;\n  }\n\n  .notes-select {\n    flex: 1;\n    display: flex;\n    flex-wrap: wrap;\n\n    .page {\n      width: 100%;\n      display: flex;\n      justify-content: center;\n      margin: 20px 0px;\n    }\n  }\n}\n</style>\n"]}]}