{"remainingRequest":"E:\\Gua_new\\note-front\\node_modules\\babel-loader\\lib\\index.js!E:\\Gua_new\\note-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Gua_new\\note-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Gua_new\\note-front\\src\\views\\self\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Gua_new\\note-front\\src\\views\\self\\Index.vue","mtime":1672661887094},{"path":"E:\\Gua_new\\note-front\\babel.config.js","mtime":1663921093000},{"path":"E:\\Gua_new\\note-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Gua_new\\note-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Gua_new\\note-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Gua_new\\note-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0R3JhZGVJbmZvIH0gZnJvbSAiQC9uZXR3b3JrL3NlbGYvaW5kZXguanMiOwppbXBvcnQgeyBnZXRDdXJyZW50R3JhZGVDb250YWluZXIgfSBmcm9tICJAL3V0aWxzL2dyYWRlVXRpbC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZ3JhZGVEYXRhOiBudWxsCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICB1c2VySW5mbygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvID8gdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8gOiB7CiAgICAgICAgYXZhdGFyVXJsOiAiIiwKICAgICAgICB1c2VyaWQ6ICIiCiAgICAgIH07CiAgICB9LAoKICAgIGdyYWRlSW5mbygpIHsKICAgICAgcmV0dXJuIHRoaXMuZ3JhZGVEYXRhID8gdGhpcy5ncmFkZURhdGEgOiB7CiAgICAgICAgZ3JhZGU6IDEsCiAgICAgICAgZXhwZXJpZW5jZTogMAogICAgICB9OwogICAgfSwKCiAgICBjdXJyZW50R3JhZGVDb250YWluZXIoKSB7CiAgICAgIHJldHVybiBnZXRDdXJyZW50R3JhZGVDb250YWluZXIodGhpcy5ncmFkZUluZm8uZ3JhZGUpOwogICAgfSwKCiAgICBwcm9nZXNzRnVsbCgpIHsKICAgICAgaWYgKCF0aGlzLmN1cnJlbnRHcmFkZUNvbnRhaW5lcikgcmV0dXJuOwogICAgICByZXR1cm4gYHdpZHRoOiAke3RoaXMuZ3JhZGVJbmZvLmV4cGVyaWVuY2UgLyB0aGlzLmN1cnJlbnRHcmFkZUNvbnRhaW5lciAqIDEwMH0lYDsKICAgIH0sCgogICAgcHJvZ2Vzc05vdEZ1bGwoKSB7CiAgICAgIGlmICghdGhpcy5jdXJyZW50R3JhZGVDb250YWluZXIpIHJldHVybjsKICAgICAgcmV0dXJuIGB3aWR0aDogJHsodGhpcy5jdXJyZW50R3JhZGVDb250YWluZXIgLSB0aGlzLmdyYWRlSW5mby5leHBlcmllbmNlKSAvIHRoaXMuY3VycmVudEdyYWRlQ29udGFpbmVyICogMTAwfSVgOwogICAgfQoKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREYXRhKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgYXN5bmMgZ2V0RGF0YSgpIHsKICAgICAgY29uc3QgewogICAgICAgIGRhdGEKICAgICAgfSA9IGF3YWl0IGdldEdyYWRlSW5mbyh0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby51c2VyaWQpOwogICAgICB0aGlzLmdyYWRlRGF0YSA9IGRhdGE7CiAgICB9LAoKICAgIGZvcm1hdChwZXJjZW50YWdlKSB7CiAgICAgIHJldHVybiBwZXJjZW50YWdlID09PSAxMDAgPyAibWF4IiA6IGAxMDAvJHtwZXJjZW50YWdlfWA7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AA0DA;AACA;AACA;EACAA;IACA;MACAC;IADA;EAGA,CALA;;EAMAC;IACAC;MACA,oCACA,0BADA,GAEA;QAAAC;QAAAC;MAAA,CAFA;IAGA,CALA;;IAMAC;MACA;QAAAC;QAAAC;MAAA;IACA,CARA;;IASAC;MACA;IACA,CAXA;;IAYAC;MACA;MACA,iBACA,4DACA,GAFA;IAGA,CAjBA;;IAkBAC;MACA;MACA,iBACA,2DACA,0BADA,GAEA,GACA,GAJA;IAKA;;EAzBA,CANA;;EAiCAC;IACA;EACA,CAnCA;;EAoCAC;IACA;MACA;QAAAb;MAAA;MACA;IACA,CAJA;;IAKAc;MACA;IACA;;EAPA;AApCA","names":["data","gradeData","computed","userInfo","avatarUrl","userid","gradeInfo","grade","experience","currentGradeContainer","progessFull","progessNotFull","created","methods","format"],"sourceRoot":"src/views/self","sources":["Index.vue"],"sourcesContent":["<template>\n  <div class=\"self\">\n    <div class=\"header\">\n      <el-avatar :size=\"50\" :src=\"userInfo.avatarUrl\"> </el-avatar>\n      <span class=\"name\">{{ userInfo.userid }}</span>\n      <span class=\"grade\">LV {{ gradeInfo.grade }}</span>\n      <div class=\"progess-group\">\n        <div class=\"progess\">\n          <span class=\"progess-full\" :style=\"progessFull\"></span>\n          <span class=\"progess-not-full\" :style=\"progessNotFull\"></span>\n        </div>\n        <span class=\"num\"\n          >{{ currentGradeContainer }}/{{ gradeInfo.experience }}</span\n        >\n      </div>\n    </div>\n    <div class=\"select\">\n      <div class=\"icon\">\n        <a href=\"/self/notes\"\n          ><i\n            :class=\"\n              $route.path.indexOf('notes') == -1\n                ? 'el-icon-house'\n                : 'el-icon-house active'\n            \"\n          ></i\n        ></a>\n        <a href=\"/self/collect\"\n          ><i\n            :class=\"\n              $route.path.indexOf('collect') == -1\n                ? 'el-icon-star-off'\n                : 'el-icon-star-off active'\n            \"\n          ></i\n        ></a>\n        <a href=\"/self/award\"\n          ><i\n            :class=\"\n              $route.path.indexOf('award') == -1\n                ? 'el-icon-shopping-cart-2'\n                : 'el-icon-shopping-cart-2 active'\n            \"\n          ></i\n        ></a>\n      </div>\n      <div class=\"select-input\">\n        <input type=\"text\" placeholder=\"Search for... \" />\n        <i class=\"el-icon-search search-icon\"></i>\n      </div>\n    </div>\n    <div class=\"self-body\">\n      <router-view />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getGradeInfo } from \"@/network/self/index.js\";\nimport { getCurrentGradeContainer } from \"@/utils/gradeUtil.js\";\nexport default {\n  data() {\n    return {\n      gradeData: null,\n    };\n  },\n  computed: {\n    userInfo() {\n      return this.$store.state.userInfo\n        ? this.$store.state.userInfo\n        : { avatarUrl: \"\", userid: \"\" };\n    },\n    gradeInfo() {\n      return this.gradeData ? this.gradeData : { grade: 1, experience: 0 };\n    },\n    currentGradeContainer() {\n      return getCurrentGradeContainer(this.gradeInfo.grade);\n    },\n    progessFull() {\n      if (!this.currentGradeContainer) return;\n      return `width: ${\n        (this.gradeInfo.experience / this.currentGradeContainer) * 100\n      }%`;\n    },\n    progessNotFull() {\n      if (!this.currentGradeContainer) return;\n      return `width: ${\n        ((this.currentGradeContainer - this.gradeInfo.experience) /\n          this.currentGradeContainer) *\n        100\n      }%`;\n    },\n  },\n  created() {\n    this.getData();\n  },\n  methods: {\n    async getData() {\n      const { data } = await getGradeInfo(this.$store.state.userInfo.userid);\n      this.gradeData = data;\n    },\n    format(percentage) {\n      return percentage === 100 ? \"max\" : `100/${percentage}`;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.self {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  .header {\n    display: flex;\n    justify-content: left;\n    align-items: center;\n    padding-top: 10px;\n\n    .name {\n      margin-left: 15px;\n    }\n\n    .grade {\n      background: #eb386a;\n      font-size: 12px;\n      color: #fff;\n      padding: 4px;\n      border-radius: 2px;\n      margin-left: 15px;\n    }\n\n    .progess-group {\n      display: flex;\n      align-items: center;\n      margin-left: 10px;\n      .progess {\n        display: flex;\n        width: 70px;\n      }\n      .progess-full {\n        background: #dc4037;\n        height: 10px;\n      }\n      .progess-not-full {\n        background: #d8d9da;\n        height: 10px;\n      }\n\n      .num {\n        margin-left: 10px;\n        font-size: 12px;\n      }\n    }\n  }\n\n  .select {\n    background: #fff;\n    border-radius: 3px;\n    display: flex;\n    justify-content: space-between;\n    padding: 8px 200px 8px 30px;\n    border: 1px solid #dce0e7;\n    border-radius: 5px;\n    margin: 10px 0px 30px;\n\n    .icon {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      width: 270px;\n      i {\n        font-size: 34px;\n      }\n\n      .active {\n        color: #5cb35b;\n      }\n    }\n\n    .select-input {\n      position: relative;\n      margin-right: 10px;\n\n      & > input {\n        border: 1px solid #dcdcdc;\n        border-radius: 20px;\n        width: 260px;\n        padding: 9px 20px;\n        font-size: 13px;\n      }\n\n      .search-icon {\n        position: absolute;\n        right: 15px;\n        top: 3px;\n\n        color: #949494;\n        font-weight: 900;\n        border-radius: 50%;\n        padding: 6px;\n      }\n    }\n  }\n\n  .self-body {\n    flex: 1;\n    background: #fff;\n    border-radius: 3px;\n    border: 1px solid #dce0e7;\n    border-radius: 5px;\n  }\n}\n</style>\n"]}]}