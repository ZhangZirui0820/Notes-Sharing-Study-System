{"remainingRequest":"E:\\Gua_new\\note-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Gua_new\\note-front\\src\\views\\self\\childrens\\Award.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Gua_new\\note-front\\src\\views\\self\\childrens\\Award.vue","mtime":1672661981053},{"path":"E:\\Gua_new\\note-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Gua_new\\note-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Gua_new\\note-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Gua_new\\note-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBd2FyZEl0ZW0gZnJvbSAiLi9Bd2FyZEl0ZW0udnVlIjsKaW1wb3J0IHsgZ2V0UG9pbnRJbmZvLCBleGNoYW5nZUF3YXJkIH0gZnJvbSAiQC9uZXR3b3JrL3NlbGYvaW5kZXguanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGF3YXJkTGlzdDogWzEwMCwgMjAwLCAzMDAsIDQwMCwgNTAwLCA2MDBdLAogICAgICBwb2ludDogMCwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7IEF3YXJkSXRlbSB9LAogIGNvbXB1dGVkOiB7CiAgICBwb2ludFZhbHVlKCkgewogICAgICByZXR1cm4gdGhpcy5wb2ludDsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREYXRhKCkgewogICAgICBnZXRQb2ludEluZm8odGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8udXNlcmlkKS50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgIHRoaXMucG9pbnQgPSBkYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5sZGVCdXkoc2VsZWN0QXdhcmRQb2ludCkgewogICAgICBpZiAodGhpcy5wb2ludCA8IHNlbGVjdEF3YXJkUG9pbnQpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIlRoZSBjdXJyZW50IHBvaW50cyBhcmUgbm90IGVub3VnaCIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGNvbmZpcm0oYENvbmZpcm0gdGhlIHJlZGVtcHRpb24gcG9pbnRzIGFzJHtzZWxlY3RBd2FyZFBvaW50fXByaXplcz9gLCAidGlwIiwgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJDb25maXJtIiwKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJDYW5jZWwiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIH0pLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICAgICAgYXdhaXQgZXhjaGFuZ2VBd2FyZCgKICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8udXNlcmlkLAogICAgICAgICAgICBzZWxlY3RBd2FyZFBvaW50CiAgICAgICAgICApOwogICAgICAgICAgYXdhaXQgdGhpcy5nZXREYXRhKCk7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIlRoZSBleGNoYW5nZSB3YXMgc3VjY2Vzc2Z1bCEiKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Award.vue"],"names":[],"mappings":";AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Award.vue","sourceRoot":"src/views/self/childrens","sourcesContent":["<template>\n  <div class=\"award\">\n    <div class=\"point\">Your Rest Points: {{ pointValue }}</div>\n    <div class=\"award-list\">\n      <AwardItem\n        class=\"item\"\n        v-for=\"item in awardList\"\n        :point=\"item\"\n        :key=\"item\"\n        @buy=\"hanldeBuy\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport AwardItem from \"./AwardItem.vue\";\nimport { getPointInfo, exchangeAward } from \"@/network/self/index.js\";\nexport default {\n  data() {\n    return {\n      awardList: [100, 200, 300, 400, 500, 600],\n      point: 0,\n    };\n  },\n  components: { AwardItem },\n  computed: {\n    pointValue() {\n      return this.point;\n    },\n  },\n  created() {\n    this.getData();\n  },\n  methods: {\n    getData() {\n      getPointInfo(this.$store.state.userInfo.userid).then(({ data }) => {\n        this.point = data;\n      });\n    },\n    hanldeBuy(selectAwardPoint) {\n      if (this.point < selectAwardPoint) {\n        this.$message.warning(\"The current points are not enough\");\n      } else {\n        this.$confirm(`Confirm the redemption points as${selectAwardPoint}prizes?`, \"tip\", {\n          confirmButtonText: \"Confirm\",\n          cancelButtonText: \"Cancel\",\n          type: \"warning\",\n        }).then(async () => {\n          await exchangeAward(\n            this.$store.state.userInfo.userid,\n            selectAwardPoint\n          );\n          await this.getData();\n          this.$message.success(\"The exchange was successful!\");\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.award {\n  padding: 20px 100px;\n\n  .point {\n    color: #979292;\n    font-weight: bold;\n    margin-bottom: 20px;\n  }\n\n  .award-list {\n    display: flex;\n    flex-wrap: wrap;\n    .item {\n      width: 25%;\n    }\n  }\n}\n</style>\n"]}]}