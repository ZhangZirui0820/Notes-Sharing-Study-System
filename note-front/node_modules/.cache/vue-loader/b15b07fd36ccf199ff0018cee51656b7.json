{"remainingRequest":"E:\\Notes_Sharing Study System\\note-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Notes_Sharing Study System\\note-front\\src\\views\\self\\childrens\\Notes.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Notes_Sharing Study System\\note-front\\src\\views\\self\\childrens\\Notes.vue","mtime":1672465994000},{"path":"E:\\Notes_Sharing Study System\\note-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Notes_Sharing Study System\\note-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Notes_Sharing Study System\\note-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Notes_Sharing Study System\\note-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBOb3RlSXRlbSBmcm9tICIuL05vdGVJdGVtLnZ1ZSI7CmltcG9ydCB7IGdldFVzZXJBbGxOb3Rlc0J5VXNlcklkIH0gZnJvbSAiQC9uZXR3b3JrL3NlbGYvaW5kZXguanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5vdGVzTGlzdDogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBwYWdlU2l6ZTogNiwgLy8g5LiA6aG15pi+56S6NuS4qgogICAgICBjdXJyZW50UGFnZTogMSwgLy8g5b2T5YmN6aG1CiAgICB9OwogIH0sCiAgY29tcG9uZW50czogeyBOb3RlSXRlbSB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERhdGEoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDlj6rmnInkuIDpobXml7bmmK/lkKbpmpDol4/liIbpobUKICAgIGlzU2luZ2xlUGFnZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudG90YWwgPD0gdGhpcy5wYWdlU2l6ZTsKICAgIH0sCiAgICBpc0VtcHR5KCkgewogICAgICByZXR1cm4gdGhpcy50b3RhbCA9PSAwOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGEoKSB7CiAgICAgIGdldFVzZXJBbGxOb3Rlc0J5VXNlcklkKAogICAgICAgIHRoaXMuY3VycmVudFBhZ2UsCiAgICAgICAgdGhpcy5wYWdlU2l6ZSwKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby51c2VyaWQKICAgICAgKS50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgIHRoaXMubm90ZXNMaXN0ID0gZGF0YS5yb3dzOwogICAgICAgIHRoaXMudG90YWwgPSBkYXRhLnRvdGFsOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVDdXJyZW50UGFnZShjdXJyZW50UGFnZSkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gY3VycmVudFBhZ2U7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Notes.vue"],"names":[],"mappings":";AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Notes.vue","sourceRoot":"src/views/self/childrens","sourcesContent":["<template>\n  <div class=\"self-notes\">\n    <div class=\"title\">My Notes</div>\n    <div class=\"notes-select\" v-if=\"!isEmpty\">\n      <NoteItem\n        v-for=\"(item, index) in notesList\"\n        :itemData=\"item\"\n        :key=\"index\"\n      />\n\n      <div class=\"page\">\n        <el-pagination\n          background\n          layout=\"prev, pager, next\"\n          :hide-on-single-page=\"isSinglePage\"\n          :page-size=\"pageSize\"\n          :total=\"total\"\n          :current-page=\"currentPage\"\n          @current-change=\"updateCurrentPage\"\n        >\n        </el-pagination>\n      </div>\n    </div>\n    <el-empty style=\"flex: 1\" :image-size=\"300\" v-else></el-empty>\n  </div>\n</template>\n\n<script>\nimport NoteItem from \"./NoteItem.vue\";\nimport { getUserAllNotesByUserId } from \"@/network/self/index.js\";\nexport default {\n  data() {\n    return {\n      notesList: [],\n      total: 0,\n      pageSize: 6, // 一页显示6个\n      currentPage: 1, // 当前页\n    };\n  },\n  components: { NoteItem },\n  created() {\n    this.getData();\n  },\n  computed: {\n    // 只有一页时是否隐藏分页\n    isSinglePage() {\n      return this.total <= this.pageSize;\n    },\n    isEmpty() {\n      return this.total == 0;\n    },\n  },\n  methods: {\n    getData() {\n      getUserAllNotesByUserId(\n        this.currentPage,\n        this.pageSize,\n        this.$store.state.userInfo.userid\n      ).then(({ data }) => {\n        this.notesList = data.rows;\n        this.total = data.total;\n      });\n    },\n    updateCurrentPage(currentPage) {\n      this.currentPage = currentPage;\n      this.getData();\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.self-notes {\n  padding: 40px 60px 0px 30px;\n  display: flex;\n\n  .title {\n    font-size: 25px;\n    font-weight: 900;\n    padding-right: 80px;\n    padding-top: 30px;\n  }\n\n  .notes-select {\n    flex: 1;\n    display: flex;\n    flex-wrap: wrap;\n\n    .page {\n      width: 100%;\n      display: flex;\n      justify-content: center;\n      margin: 20px 0px;\n    }\n  }\n}\n</style>\n"]}]}