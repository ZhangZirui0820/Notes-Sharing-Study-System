{"remainingRequest":"E:\\Gua_new\\note-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Gua_new\\note-front\\src\\views\\self\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Gua_new\\note-front\\src\\views\\self\\Index.vue","mtime":1672661887094},{"path":"E:\\Gua_new\\note-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Gua_new\\note-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Gua_new\\note-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Gua_new\\note-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGdldEdyYWRlSW5mbyB9IGZyb20gIkAvbmV0d29yay9zZWxmL2luZGV4LmpzIjsKaW1wb3J0IHsgZ2V0Q3VycmVudEdyYWRlQ29udGFpbmVyIH0gZnJvbSAiQC91dGlscy9ncmFkZVV0aWwuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGdyYWRlRGF0YTogbnVsbCwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdXNlckluZm8oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mbwogICAgICAgID8gdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8KICAgICAgICA6IHsgYXZhdGFyVXJsOiAiIiwgdXNlcmlkOiAiIiB9OwogICAgfSwKICAgIGdyYWRlSW5mbygpIHsKICAgICAgcmV0dXJuIHRoaXMuZ3JhZGVEYXRhID8gdGhpcy5ncmFkZURhdGEgOiB7IGdyYWRlOiAxLCBleHBlcmllbmNlOiAwIH07CiAgICB9LAogICAgY3VycmVudEdyYWRlQ29udGFpbmVyKCkgewogICAgICByZXR1cm4gZ2V0Q3VycmVudEdyYWRlQ29udGFpbmVyKHRoaXMuZ3JhZGVJbmZvLmdyYWRlKTsKICAgIH0sCiAgICBwcm9nZXNzRnVsbCgpIHsKICAgICAgaWYgKCF0aGlzLmN1cnJlbnRHcmFkZUNvbnRhaW5lcikgcmV0dXJuOwogICAgICByZXR1cm4gYHdpZHRoOiAkewogICAgICAgICh0aGlzLmdyYWRlSW5mby5leHBlcmllbmNlIC8gdGhpcy5jdXJyZW50R3JhZGVDb250YWluZXIpICogMTAwCiAgICAgIH0lYDsKICAgIH0sCiAgICBwcm9nZXNzTm90RnVsbCgpIHsKICAgICAgaWYgKCF0aGlzLmN1cnJlbnRHcmFkZUNvbnRhaW5lcikgcmV0dXJuOwogICAgICByZXR1cm4gYHdpZHRoOiAkewogICAgICAgICgodGhpcy5jdXJyZW50R3JhZGVDb250YWluZXIgLSB0aGlzLmdyYWRlSW5mby5leHBlcmllbmNlKSAvCiAgICAgICAgICB0aGlzLmN1cnJlbnRHcmFkZUNvbnRhaW5lcikgKgogICAgICAgIDEwMAogICAgICB9JWA7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZ2V0RGF0YSgpIHsKICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBnZXRHcmFkZUluZm8odGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8udXNlcmlkKTsKICAgICAgdGhpcy5ncmFkZURhdGEgPSBkYXRhOwogICAgfSwKICAgIGZvcm1hdChwZXJjZW50YWdlKSB7CiAgICAgIHJldHVybiBwZXJjZW50YWdlID09PSAxMDAgPyAibWF4IiA6IGAxMDAvJHtwZXJjZW50YWdlfWA7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views/self","sourcesContent":["<template>\n  <div class=\"self\">\n    <div class=\"header\">\n      <el-avatar :size=\"50\" :src=\"userInfo.avatarUrl\"> </el-avatar>\n      <span class=\"name\">{{ userInfo.userid }}</span>\n      <span class=\"grade\">LV {{ gradeInfo.grade }}</span>\n      <div class=\"progess-group\">\n        <div class=\"progess\">\n          <span class=\"progess-full\" :style=\"progessFull\"></span>\n          <span class=\"progess-not-full\" :style=\"progessNotFull\"></span>\n        </div>\n        <span class=\"num\"\n          >{{ currentGradeContainer }}/{{ gradeInfo.experience }}</span\n        >\n      </div>\n    </div>\n    <div class=\"select\">\n      <div class=\"icon\">\n        <a href=\"/self/notes\"\n          ><i\n            :class=\"\n              $route.path.indexOf('notes') == -1\n                ? 'el-icon-house'\n                : 'el-icon-house active'\n            \"\n          ></i\n        ></a>\n        <a href=\"/self/collect\"\n          ><i\n            :class=\"\n              $route.path.indexOf('collect') == -1\n                ? 'el-icon-star-off'\n                : 'el-icon-star-off active'\n            \"\n          ></i\n        ></a>\n        <a href=\"/self/award\"\n          ><i\n            :class=\"\n              $route.path.indexOf('award') == -1\n                ? 'el-icon-shopping-cart-2'\n                : 'el-icon-shopping-cart-2 active'\n            \"\n          ></i\n        ></a>\n      </div>\n      <div class=\"select-input\">\n        <input type=\"text\" placeholder=\"Search for... \" />\n        <i class=\"el-icon-search search-icon\"></i>\n      </div>\n    </div>\n    <div class=\"self-body\">\n      <router-view />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getGradeInfo } from \"@/network/self/index.js\";\nimport { getCurrentGradeContainer } from \"@/utils/gradeUtil.js\";\nexport default {\n  data() {\n    return {\n      gradeData: null,\n    };\n  },\n  computed: {\n    userInfo() {\n      return this.$store.state.userInfo\n        ? this.$store.state.userInfo\n        : { avatarUrl: \"\", userid: \"\" };\n    },\n    gradeInfo() {\n      return this.gradeData ? this.gradeData : { grade: 1, experience: 0 };\n    },\n    currentGradeContainer() {\n      return getCurrentGradeContainer(this.gradeInfo.grade);\n    },\n    progessFull() {\n      if (!this.currentGradeContainer) return;\n      return `width: ${\n        (this.gradeInfo.experience / this.currentGradeContainer) * 100\n      }%`;\n    },\n    progessNotFull() {\n      if (!this.currentGradeContainer) return;\n      return `width: ${\n        ((this.currentGradeContainer - this.gradeInfo.experience) /\n          this.currentGradeContainer) *\n        100\n      }%`;\n    },\n  },\n  created() {\n    this.getData();\n  },\n  methods: {\n    async getData() {\n      const { data } = await getGradeInfo(this.$store.state.userInfo.userid);\n      this.gradeData = data;\n    },\n    format(percentage) {\n      return percentage === 100 ? \"max\" : `100/${percentage}`;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.self {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  .header {\n    display: flex;\n    justify-content: left;\n    align-items: center;\n    padding-top: 10px;\n\n    .name {\n      margin-left: 15px;\n    }\n\n    .grade {\n      background: #eb386a;\n      font-size: 12px;\n      color: #fff;\n      padding: 4px;\n      border-radius: 2px;\n      margin-left: 15px;\n    }\n\n    .progess-group {\n      display: flex;\n      align-items: center;\n      margin-left: 10px;\n      .progess {\n        display: flex;\n        width: 70px;\n      }\n      .progess-full {\n        background: #dc4037;\n        height: 10px;\n      }\n      .progess-not-full {\n        background: #d8d9da;\n        height: 10px;\n      }\n\n      .num {\n        margin-left: 10px;\n        font-size: 12px;\n      }\n    }\n  }\n\n  .select {\n    background: #fff;\n    border-radius: 3px;\n    display: flex;\n    justify-content: space-between;\n    padding: 8px 200px 8px 30px;\n    border: 1px solid #dce0e7;\n    border-radius: 5px;\n    margin: 10px 0px 30px;\n\n    .icon {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      width: 270px;\n      i {\n        font-size: 34px;\n      }\n\n      .active {\n        color: #5cb35b;\n      }\n    }\n\n    .select-input {\n      position: relative;\n      margin-right: 10px;\n\n      & > input {\n        border: 1px solid #dcdcdc;\n        border-radius: 20px;\n        width: 260px;\n        padding: 9px 20px;\n        font-size: 13px;\n      }\n\n      .search-icon {\n        position: absolute;\n        right: 15px;\n        top: 3px;\n\n        color: #949494;\n        font-weight: 900;\n        border-radius: 50%;\n        padding: 6px;\n      }\n    }\n  }\n\n  .self-body {\n    flex: 1;\n    background: #fff;\n    border-radius: 3px;\n    border: 1px solid #dce0e7;\n    border-radius: 5px;\n  }\n}\n</style>\n"]}]}